image: randlflep/rust-ci

run-tests-release:
  needs: []
  script:
    - rustc --version && cargo --version
    - cargo test --release --verbose
    - cargo valgrind test --profile release_symbols --verbose

run-tests-debug:
  needs: []
  script:
    - rustc --version && cargo --version
    - cargo test --verbose
    - cargo valgrind test --profile release_symbols --verbose

clippy:
  needs: []
  script:
    - cargo clippy

format-check:
  needs: []
  script:
    - cargo fmt -- --check
